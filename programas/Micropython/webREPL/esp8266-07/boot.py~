# This file is executed on every boot (including wake-boot from deepsleep)
#import esp
#esp.osdebug(None)
import uos, machine
#uos.dupterm(None, 1) # disable REPL on UART(0)
import gc
import webrepl
webrepl.start()
gc.collect()
# FN 20220713

import network, time, codigo

p=machine.Pin(2,machine.Pin.OUT)
p.on()

wifi_if=network.WLAN(network.STA_IF) 
wifi_if.active(True) # conecta ao ap conectado anteriormente no ESP32-S2 e no ESP8266. No ESP32-C3, quando testei, n√£o guardou.
wifi_if.connect('NameOfNetworkTP', '0123456789') # preenche se quiser mudar
time.sleep(5)
if (wifi_if.isconnected() == False) :
   wifi_if.active(False)
   wifi_if=network.WLAN(network.AP_IF) 
   wifi_if.active(True)
   wifi_if.config('esp8266', '')
meuIP=wifi_if.ifconfig()[0]
codigo.enviaIP(meuIP, p, aceso=False) 

